<h2>Log In</h2>
<div class="row" *ngIf="!_userService.token">
  <div class="col-sm-4">
    <label>Username:</label><br />
    <input type="text" name="login-username" [(ngModel)]="user.username">
    <span *ngFor="let error of _userService.errors.username"><br />
    {{ error }}</span></div>
  <div class="col-sm-4">
    <label>Password:</label><br />
    <input type="password" name="login-password" [(ngModel)]="user.password">
    <span *ngFor="let error of _userService.errors.password"><br />
    {{ error }}</span>
  </div>
  <div class="col-sm-4">
    <label>Email Address:</label><br />
    <input type="email" name="login-email" [(ngModel)]="user.email">
    <span *ngFor="let error of _userService.errors.email"><br />
    {{ error }}</span>
  </div>
  <div class="col-sm-4">
    <button (click)="login()" class="btn btn-primary">Log In</button>
  </div>
  <div class="col-sm-12">
    <span *ngFor="let error of _userService.errors.non_field_errors">{{ error }}<br /></span>
  </div>
  <h3> Create User </h3>
  <div class="container">
    <form [formGroup]="form" (ngSubmit)="createUser()">
      <div class="progress form-group" *ngIf="progress > 0">
    <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width.%]="progress"></div>
  </div>
  Username
  <div class=" form-group col-md-9 mb-1"><input type="text" formControlName="username"></div>
  Email
  <div class="form-group col-md-9 mb-1"><input type="email" formControlName="email"></div>
  Password
  <div class="form-group col-md-9 mb-1"><input type="password" formControlName="password"></div>
  Photo
  <div class="form0group col-md-9 mb-1"><input type="file" name="image" accept="image" (change)="photochange($event)"></div>
  <div class="col-md-2 offset-3">
  
    <button class="btn btn-primary">Save</button>
</div></form>
</div>
</div>
<div class="row" *ngIf="_userService.token">
  <div class="col-sm-12">You are logged in as {{ _userService.username }}.<br />
    Token Expires: {{ _userService.token_expires }}<br />
    Email is: {{_userService.email }}
    Full Name: - {{_userService.first_name }} {{_userService.last_name}}
    <div *ngIf="_userService.photo">
     Profile Photo:- <img src="{{ _userService.photo }}" height="500" width="500">
  </div>
  <div *ngIf="!_userService.photo">
    <button (click)="_userService.list()">List</button></div>

    <button (click)="logout()" class="btn btn-primary">Log Out</button>
  </div>
</div>